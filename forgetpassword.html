<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apna-agency</title>
    <link rel="stylesheet" href="forgetpassword.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <div class="modal-overlay"> 
    
    <div class="registration-page">
        
        <button class="close-btn" onclick="document.querySelector('.modal-overlay').style.display='none';">
            <i class="fas fa-times"></i>
        </button>


        <div class="left-section">
            <div class="logo">
                <img src="logo.png" alt="Buddy4Study Logo"> <span>ApnaAgency</span>
                <p>Gateway to new world</p>
            </div>

            <div class="slider-wrapper">
            <div class="slides-container" id="slides-container">
                
                <!-- Slide 1 -->
                <div class="slide">
                    
                    <div class="image-container">
                        <img src="popup-image.jpg" onerror="this.onerror=null; ">
                    </div>
                    <p class="quote">
                      "Education is the most powerful weapon you can use to change the world."
                    </p>
                </div>
                
                <!-- Slide 2 -->
                <div class="slide">
                    
                    <div class="image-container">
                        <img src="2.1.jpg" onerror="this.onerror=null;">
                    </div>
                    <p class="quote">
                      "Education is the most powerful weapon you can use to change the world."
                    </p>
                </div>

                <!-- Slide 3 -->
                <div class="slide">
                    
                    <div class="image-container">
                        <img src="1.1.jpg" alt="Inspirational Image 3" onerror="this.onerror=null; ">
                    </div>
                    <p class="quote">
                      "Education is the most powerful weapon you can use to change the world."
                    </p>
                </div>

            </div>
            
            <!-- Shapes and Dots (Absolute positions relative to .left-section) -->
            
            
        </div>
    </div>

        <div class="right-section">
            <div class="forgot-password-form" id="forgot-password-form">
                <h2>Hi, Missed Your Password! <span role="img" aria-label="waving hand">üëã</span></h2>
                <p>Let's get you a new one!</p>

                <div class="form-group">
                    <label for="recoveryEmail">Enter Recovery Email</label>
                    <div class="input-with-icon">
                        <i class="fas fa-envelope"></i>
                        <input type="email" id="email-input" placeholder="Email Id">
                    </div>
                </div>

                <div class="recovery-options">
                    <a href="forget.html" class="recovery-link">Recovery through gmail instead?</a>
                    <a href="signin.html" class="recovery-link">Login through Gmail</a>
                </div>

                <button type="submit" class="submit-btn">Submit</button>
                <div>
                    <p class="happylife">
                        Happy Life
                    </p>
                </div>
            </div>
        </div>

    </div>
    <script type="module">
        // 1. Firebase SDK Imports
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
        import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";

        // 2. Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAXHD3qrc_sRPzUwpd6kLqGVrOqb2XqMpk",
            authDomain: "my-login-page-62659.firebaseapp.com",
            projectId: "my-login-page-62659",
            storageBucket: "my-login-page-62659.firebasestorage.app",
            messagingSenderId: "265063991992",
            appId: "1:265063991992:web:f1834f4664e5494779024d",
            measurementId: "G-EJ7P52JB4N"
        };


        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        const form = document.getElementById("forgot-password-form");
        const statusMessage = document.getElementById("status-message");

        // Utility Function
        function showMessage(message, type) {
            statusMessage.textContent = message;
            statusMessage.className = `message show ${type}`;
        }

        // 3. Form Submission Logic: Cloud Function (fetch) ‡§ï‡•ã ‡§π‡§ü‡§æ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à
        form.addEventListener("submit", function (e) {
            e.preventDefault();
            const email = document.getElementById("email-input").value.trim(); // trim() ‡§ú‡•ã‡§°‡§º‡§æ ‡§ó‡§Ø‡§æ

            if (!email) {
                showMessage("Please enter your email address.", "error");
                return;
            }
            
            showMessage("Sending recovery link...", "info");

            // üöÄ FIX: Firebase SDK ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç (‡§Ø‡§π CORS ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§ï‡•ã ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§¨‡§æ‡§Ø‡§™‡§æ‡§∏ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à)
            sendPasswordResetEmail(auth, email)
            .then(() => {
                // ‡§Ø‡§π ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§§‡§¨ ‡§≠‡•Ä ‡§¶‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à ‡§ú‡§¨ ‡§à‡§Æ‡•á‡§≤ ‡§™‡§Ç‡§ú‡•Ä‡§ï‡•É‡§§ ‡§® ‡§π‡•ã, ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ï‡§æ‡§∞‡§£‡•ã‡§Ç ‡§∏‡•á‡•§
                showMessage("If an account exists for this email, a reset link has been sent to your inbox!", "success");
            })
            .catch((error) => {
                console.error("Firebase Auth Error:", error);
                // ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§™‡§∞ ‡§≠‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Å
                showMessage("If an account exists for this email, a reset link has been sent to your inbox!", "success");
            });
        });
        
    </script> 

</body>

</html>



